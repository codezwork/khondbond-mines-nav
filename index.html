<!DOCTYPE html>
<html lang="en" class="full-viewport-map">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Khondbond Iron Mines - Enhanced Navigation</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="navigation.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet-measure@3.1.0/dist/leaflet-measure.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol@0.72.0/dist/L.Control.Locate.min.css" />
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 36 36'%3E%3Cpath fill='%230fd1eb' d='M21.6 6.2426v1.4427c0 .5306-.4029.9607-.9.9607h-5.4c-.4971 0-.9-.4301-.9-.9607V6.2426C5.4042 6.9678 0 10.046 0 8.634 0 7.1676 8.9061 1.9125 16.2 1.0739V.9607C16.2.4301 16.6029 0 17.1 0h1.8c.4971 0 .9.4301.9.9607v.1125C27.0939 1.9125 36 7.1676 36 8.634c0 1.412-5.4042-1.6662-14.4-2.3914zM16.5 10h3c.5523 0 1 .4477 1 1v20.5C20.5 32.8807 19.3807 34 18 34s-2.5-1.1193-2.5-2.5V11c0-.5523.4477-1 1-1z'/%3E%3C/svg%3E">
</head>
<body>
    
    <!-- Header Section -->
    <header>
        <div class="logo">
            <a href="index.html" style="text-decoration: none;">
            <h2>Khondbond Iron Mines</h2>
            </a>
        </div>
        <nav>
            <div class="nav-links">
                <a href="index.html">Mine Navigation</a>
                <a href="contact.html">Important Contacts</a>
            </div>
            <a href="contact.html" class="mobile-direct-link">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="flex-shrink: 0;">
                    <path d="M20 4H4C2.9 4 2 4.9 2 6V18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V6C22 4.9 21.1 4 20 4ZM20 8L12 13L4 8V6L12 11L20 6V8Z" fill="currentColor"/>
                </svg>
                Contacts
            </a>
        </nav>
    </header>

    <!-- Search Bar Section -->
    <div class="search-bar-container" id="searchBarContainer">
        <div class="search-pill">
            <div class="search-icons">
                <!-- In navigation-new.html, replace the mic-btn section: -->
                <button class="search-icon-btn info-btn" title="Mine Overview PDF" id="infoBtn">
                    <svg width="30" height="30" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM13 17H11V11H13V17ZM13 9H11V7H13V9Z" fill="currentColor"/>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <!-- Enhanced Map Section - Full Viewport -->
    <div id="map-fullscreen">
        <div id="enhanced-map"></div>
        
        <!-- Floating Action Buttons -->
        <div class="fab-container">
            <button class="fab layers-fab" id="layers-fab" title="Map Layers">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M2 17L12 22L22 17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M2 12L12 17L22 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </button>
            <button class="fab location-fab" id="location-fab" title="My Location">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 2C8.13 2 5 5.13 5 9C5 14.25 12 22 12 22C12 22 19 14.25 19 9C19 5.13 15.87 2 12 2ZM12 11.5C10.62 11.5 9.5 10.38 9.5 9C9.5 7.62 10.62 6.5 12 6.5C13.38 6.5 14.5 7.62 14.5 9C14.5 10.38 13.38 11.5 12 11.5Z" fill="currentColor"/>
                </svg>
            </button>
        </div>
    </div>

    <!-- Replace the entire bottom sheet section (lines 74-102) with this new FAB and overlay -->

    <!-- Floating Action Buttons - Add new top-left FAB container -->
    <div class="top-left-fab-container" id="topLeftFabContainer">
        <button class="fab key-locations-fab" id="key-locations-fab" title="Key Locations">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"> 
                <path d="M408 120c0 54.6-73.1 151.9-105.2 192c-7.7 9.6-22 9.6-29.6 0C241.1 271.9 168 174.6 168 120C168 53.7 221.7 0 288 0s120 53.7 120 120zm8 80.4c3.5-6.9 6.7-13.8 9.6-20.6c.5-1.2 1-2.5 1.5-3.7l116-46.4C558.9 123.4 576 135 576 152V422.8c0 9.8-6 18.6-15.1 22.3L416 503V200.4zM137.6 138.3c2.4 14.1 7.2 28.3 12.8 41.5c2.9 6.8 6.1 13.7 9.6 20.6V451.8L32.9 502.7C17.1 509 0 497.4 0 480.4V209.6c0-9.8 6 18.6 15.1-22.3l122.6-49zM327.8 332c13.9-17.4 35.7-45.7 56.2-77V504.3L192 449.4V255c20.5 31.3 42.3 59.6 56.2 77c20.5 25.6 59.1 25.6 79.6 0zM288 152c22.1 0 40-17.9 40-40s-17.9-40-40-40s-40 17.9-40 40s17.9 40 40 40z" 
                fill="currentColor"/> 
            </svg>
        </button>
    </div>

    <!-- Speech Bubble Overlay -->
    <div class="speech-bubble-overlay" id="speechBubbleOverlay">
        <div class="speech-bubble-content">
            <div class="speech-bubble-header">
                <h3>Key Mine Locations</h3>
                <p>Select a location to view on map</p>
            </div>
            <div class="speech-bubble-arrow"></div>
            <div class="locations-carousel-speech" id="locationsCarouselSpeech">
                <!-- Location cards will be dynamically inserted here -->
            </div>
        </div>
    </div>

    <!-- Remove the entire bottom-sheet section that was here -->

    <!-- PDF Modal Popup -->
    <div class="pdf-modal" id="pdfModal">
        <div class="pdf-modal-content">
            <div class="pdf-modal-header">
                <h3>Khondbond Iron Mines Overview</h3>
                <button class="pdf-modal-close" id="pdfModalClose">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z" fill="currentColor"/>
                    </svg>
                </button>
            </div>
            <div class="pdf-viewer-container">
                <iframe 
                    src="https://drive.google.com/file/d/1FowMwRqAKEd6efNYEVR6D_hrldfiSjAs/preview" 
                    class="pdf-viewer" 
                    id="pdfViewer"
                    title="Khondbond Iron Mines Overview PDF"
                    loading="lazy"
                    frameborder="0"
                    scrolling="no"
                    allow="autoplay"
                >
                    Your browser does not support PDFs. 
                    <a href="khondbond-overview.pdf">Download the PDF</a> instead.
                </iframe>
            </div>
            <!-- In navigation-new.html, update the PDF modal controls section: -->
            <div class="pdf-controls">
                <div class="pdf-controls-left">
                    <button class="pdf-control-btn" id="pdfZoomOut" title="Zoom Out">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M19 13H5V11H19V13Z" fill="currentColor"/>
                        </svg>
                        Zoom Out
                    </button>
                    <button class="pdf-control-btn" id="pdfZoomIn" title="Zoom In">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M19 13H13V19H11V13H5V11H11V5H13V11H19V13Z" fill="currentColor"/>
                        </svg>
                        Zoom In
                    </button>
                </div>
                <div class="pdf-controls-right">
                    <button class="pdf-control-btn pdf-download-btn" id="pdfDownload" title="Save PDF">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M19 9H15V3H9V9H5L12 16L19 9ZM5 18V20H19V18H5Z" fill="currentColor"/>
                        </svg>
                        Save
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript Libraries -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
    <script src="https://unpkg.com/leaflet-measure@3.1.0/dist/leaflet-measure.js"></script>
    <script src="https://unpkg.com/leaflet-omnivore@0.3.4/leaflet-omnivore.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol@0.72.0/dist/L.Control.Locate.min.js"></script>
    
    <!-- Your custom scripts -->
    <script src="script.js"></script>
    <script src="enhanced-map.js"></script>
    <script src="navigation.js"></script>
    <script src="tour-guide.js"></script>
</body>
</html>
